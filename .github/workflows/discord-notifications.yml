name: Notify Discord on New Issue

on:
  issues:
    types: [opened]

jobs:
  notify_discord:
    runs-on: ubuntu-latest
    steps:
      - name: Send Discord notification
        uses: Ilshidur/action-discord@0.3.2
        with:
          webhook_url: ${{ secrets.DISCORD_WEBHOOK_URL }}
          message: |
            **New Support Ticket Created**
            - **Title:** ${{ github.event.issue.title }}
            - **User:** ${{ github.event.issue.user.login }}
            - **Link:** ${{ github.event.issue.html_url }}
          status: 'success' # Provide the required status input
        env:
          DISCORD_WEBHOOK_URL: ${{ secrets.DISCORD_WEBHOOK_URL }}
